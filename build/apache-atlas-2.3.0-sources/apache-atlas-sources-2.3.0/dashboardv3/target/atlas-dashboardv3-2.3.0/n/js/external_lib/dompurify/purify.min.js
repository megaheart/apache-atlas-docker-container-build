!function(a,b){"object"==typeof exports&&"undefined"!=typeof module?module.exports=b():"function"==typeof define&&define.amd?define(b):(a=a||self).DOMPurify=b()}(this,function(){"use strict";function a(a){return function(b){for(var c=arguments.length,d=Array(c>1?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];return o(a,b,d)}}function b(a,b){g&&g(a,null);for(var c=b.length;c--;){var d=b[c];if("string"==typeof d){var e=u(d);e!==d&&(h(b)||(b[c]=e),d=e)}a[d]=!0}return a}function c(a){var b=m(null),c=void 0;for(c in a)o(f,a,[c])&&(b[c]=a[c]);return b}function d(b,c){for(;null!==b;){var d=j(b,c);if(d){if(d.get)return a(d.get);if("function"==typeof d.value)return a(d.value)}b=i(b)}return function(a){return console.warn("fallback value for",a),null}}function e(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)}var f=Object.hasOwnProperty,g=Object.setPrototypeOf,h=Object.isFrozen,i=Object.getPrototypeOf,j=Object.getOwnPropertyDescriptor,k=Object.freeze,l=Object.seal,m=Object.create,n="undefined"!=typeof Reflect&&Reflect,o=n.apply,p=n.construct;o||(o=function(a,b,c){return a.apply(b,c)}),k||(k=function(a){return a}),l||(l=function(a){return a}),p||(p=function(a,b){return new(Function.prototype.bind.apply(a,[null].concat(function(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)}(b))))});var q,r=a(Array.prototype.forEach),s=a(Array.prototype.pop),t=a(Array.prototype.push),u=a(String.prototype.toLowerCase),v=a(String.prototype.match),w=a(String.prototype.replace),x=a(String.prototype.indexOf),y=a(String.prototype.trim),z=a(RegExp.prototype.test),A=(q=TypeError,function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];return p(q,b)}),B=k(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),C=k(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),D=k(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),E=k(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),F=k(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),G=k(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),H=k(["#text"]),I=k(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),J=k(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),K=k(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),L=k(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),M=l(/\{\{[\s\S]*|[\s\S]*\}\}/gm),N=l(/<%[\s\S]*|[\s\S]*%>/gm),O=l(/^data-[\-\w.\u00B7-\uFFFF]/),P=l(/^aria-[\-\w]+$/),Q=l(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),R=l(/^(?:\w+script|data):/i),S=l(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},U=function(){return"undefined"==typeof window?null:window},V=function(a,b){if("object"!==(void 0===a?"undefined":T(a))||"function"!=typeof a.createPolicy)return null;var c=null,d="data-tt-policy-suffix";b.currentScript&&b.currentScript.hasAttribute(d)&&(c=b.currentScript.getAttribute(d));var e="dompurify"+(c?"#"+c:"");try{return a.createPolicy(e,{createHTML:function(a){return a}})}catch(a){return console.warn("TrustedTypes policy "+e+" could not be created."),null}};return function a(){var f=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U(),g=function(b){return a(b)};if(g.version="2.3.4",g.removed=[],!f||!f.document||9!==f.document.nodeType)return g.isSupported=!1,g;var h=f.document,i=f.document,j=f.DocumentFragment,l=f.HTMLTemplateElement,m=f.Node,n=f.Element,o=f.NodeFilter,p=f.NamedNodeMap,q=void 0===p?f.NamedNodeMap||f.MozNamedAttrMap:p,W=f.HTMLFormElement,X=f.DOMParser,Y=f.trustedTypes,Z=n.prototype,$=d(Z,"cloneNode"),_=d(Z,"nextSibling"),aa=d(Z,"childNodes"),ba=d(Z,"parentNode");if("function"==typeof l){var ca=i.createElement("template");ca.content&&ca.content.ownerDocument&&(i=ca.content.ownerDocument)}var da=V(Y,h),ea=da&&Ka?da.createHTML(""):"",fa=i,ga=fa.implementation,ha=fa.createNodeIterator,ia=fa.createDocumentFragment,ja=fa.getElementsByTagName,ka=h.importNode,la={};try{la=c(i).documentMode?i.documentMode:{}}catch(a){}var ma={};g.isSupported="function"==typeof ba&&ga&&void 0!==ga.createHTMLDocument&&9!==la;var na=M,oa=N,pa=O,qa=P,ra=R,sa=S,ta=Q,ua=null,va=b({},[].concat(e(B),e(C),e(D),e(F),e(H))),wa=null,xa=b({},[].concat(e(I),e(J),e(K),e(L))),ya=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),za=null,Aa=null,Ba=!0,Ca=!0,Da=!1,Ea=!1,Fa=!1,Ga=!1,Ha=!1,Ia=!1,Ja=!1,Ka=!1,La=!0,Ma=!0,Na=!1,Oa={},Pa=null,Qa=b({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Ra=null,Sa=b({},["audio","video","img","source","image","track"]),Ta=null,Ua=b({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Va="http://www.w3.org/1998/Math/MathML",Wa="http://www.w3.org/2000/svg",Xa="http://www.w3.org/1999/xhtml",Ya=Xa,Za=!1,$a=void 0,_a=["application/xhtml+xml","text/html"],ab="text/html",bb=void 0,cb=null,db=i.createElement("form"),eb=function(a){return a instanceof RegExp||a instanceof Function},fb=function(a){cb&&cb===a||(a&&"object"===(void 0===a?"undefined":T(a))||(a={}),a=c(a),ua="ALLOWED_TAGS"in a?b({},a.ALLOWED_TAGS):va,wa="ALLOWED_ATTR"in a?b({},a.ALLOWED_ATTR):xa,Ta="ADD_URI_SAFE_ATTR"in a?b(c(Ua),a.ADD_URI_SAFE_ATTR):Ua,Ra="ADD_DATA_URI_TAGS"in a?b(c(Sa),a.ADD_DATA_URI_TAGS):Sa,Pa="FORBID_CONTENTS"in a?b({},a.FORBID_CONTENTS):Qa,za="FORBID_TAGS"in a?b({},a.FORBID_TAGS):{},Aa="FORBID_ATTR"in a?b({},a.FORBID_ATTR):{},Oa="USE_PROFILES"in a&&a.USE_PROFILES,Ba=!1!==a.ALLOW_ARIA_ATTR,Ca=!1!==a.ALLOW_DATA_ATTR,Da=a.ALLOW_UNKNOWN_PROTOCOLS||!1,Ea=a.SAFE_FOR_TEMPLATES||!1,Fa=a.WHOLE_DOCUMENT||!1,Ia=a.RETURN_DOM||!1,Ja=a.RETURN_DOM_FRAGMENT||!1,Ka=a.RETURN_TRUSTED_TYPE||!1,Ha=a.FORCE_BODY||!1,La=!1!==a.SANITIZE_DOM,Ma=!1!==a.KEEP_CONTENT,Na=a.IN_PLACE||!1,ta=a.ALLOWED_URI_REGEXP||ta,Ya=a.NAMESPACE||Xa,a.CUSTOM_ELEMENT_HANDLING&&eb(a.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ya.tagNameCheck=a.CUSTOM_ELEMENT_HANDLING.tagNameCheck),a.CUSTOM_ELEMENT_HANDLING&&eb(a.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ya.attributeNameCheck=a.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),a.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof a.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(ya.allowCustomizedBuiltInElements=a.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),$a=$a=-1===_a.indexOf(a.PARSER_MEDIA_TYPE)?ab:a.PARSER_MEDIA_TYPE,bb="application/xhtml+xml"===$a?function(a){return a}:u,Ea&&(Ca=!1),Ja&&(Ia=!0),Oa&&(ua=b({},[].concat(e(H))),wa=[],!0===Oa.html&&(b(ua,B),b(wa,I)),!0===Oa.svg&&(b(ua,C),b(wa,J),b(wa,L)),!0===Oa.svgFilters&&(b(ua,D),b(wa,J),b(wa,L)),!0===Oa.mathMl&&(b(ua,F),b(wa,K),b(wa,L))),a.ADD_TAGS&&(ua===va&&(ua=c(ua)),b(ua,a.ADD_TAGS)),a.ADD_ATTR&&(wa===xa&&(wa=c(wa)),b(wa,a.ADD_ATTR)),a.ADD_URI_SAFE_ATTR&&b(Ta,a.ADD_URI_SAFE_ATTR),a.FORBID_CONTENTS&&(Pa===Qa&&(Pa=c(Pa)),b(Pa,a.FORBID_CONTENTS)),Ma&&(ua["#text"]=!0),Fa&&b(ua,["html","head","body"]),ua.table&&(b(ua,["tbody"]),delete za.tbody),k&&k(a),cb=a)},gb=b({},["mi","mo","mn","ms","mtext"]),hb=b({},["foreignobject","desc","title","annotation-xml"]),ib=b({},C);b(ib,D),b(ib,E);var jb=b({},F);b(jb,G);var kb=function(a){var c=ba(a);c&&c.tagName||(c={namespaceURI:Xa,tagName:"template"});var d=u(a.tagName),e=u(c.tagName);if(a.namespaceURI===Wa)return c.namespaceURI===Xa?"svg"===d:c.namespaceURI===Va?"svg"===d&&("annotation-xml"===e||gb[e]):Boolean(ib[d]);if(a.namespaceURI===Va)return c.namespaceURI===Xa?"math"===d:c.namespaceURI===Wa?"math"===d&&hb[e]:Boolean(jb[d]);if(a.namespaceURI===Xa){if(c.namespaceURI===Wa&&!hb[e])return!1;if(c.namespaceURI===Va&&!gb[e])return!1;var f=b({},["title","style","font","a","script"]);return!jb[d]&&(f[d]||!ib[d])}return!1},lb=function(a){t(g.removed,{element:a});try{a.parentNode.removeChild(a)}catch(b){try{a.outerHTML=ea}catch(b){a.remove()}}},mb=function(a,b){try{t(g.removed,{attribute:b.getAttributeNode(a),from:b})}catch(a){t(g.removed,{attribute:null,from:b})}if(b.removeAttribute(a),"is"===a&&!wa[a])if(Ia||Ja)try{lb(b)}catch(a){}else try{b.setAttribute(a,"")}catch(a){}},nb=function(a){var b=void 0,c=void 0;if(Ha)a="<remove></remove>"+a;else{var d=v(a,/^[\r\n\t ]+/);c=d&&d[0]}"application/xhtml+xml"===$a&&(a='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+a+"</body></html>");var e=da?da.createHTML(a):a;if(Ya===Xa)try{b=(new X).parseFromString(e,$a)}catch(a){}if(!b||!b.documentElement){b=ga.createDocument(Ya,"template",null);try{b.documentElement.innerHTML=Za?"":e}catch(a){}}var f=b.body||b.documentElement;return a&&c&&f.insertBefore(i.createTextNode(c),f.childNodes[0]||null),Ya===Xa?ja.call(b,Fa?"html":"body")[0]:Fa?b.documentElement:f},ob=function(a){return ha.call(a.ownerDocument||a,a,o.SHOW_ELEMENT|o.SHOW_COMMENT|o.SHOW_TEXT,null,!1)},pb=function(a){return a instanceof W&&("string"!=typeof a.nodeName||"string"!=typeof a.textContent||"function"!=typeof a.removeChild||!(a.attributes instanceof q)||"function"!=typeof a.removeAttribute||"function"!=typeof a.setAttribute||"string"!=typeof a.namespaceURI||"function"!=typeof a.insertBefore)},qb=function(a){return"object"===(void 0===m?"undefined":T(m))?a instanceof m:a&&"object"===(void 0===a?"undefined":T(a))&&"number"==typeof a.nodeType&&"string"==typeof a.nodeName},rb=function(a,b,c){ma[a]&&r(ma[a],function(a){a.call(g,b,c,cb)})},sb=function(a){var b=void 0;if(rb("beforeSanitizeElements",a,null),pb(a))return lb(a),!0;if(v(a.nodeName,/[\u0080-\uFFFF]/))return lb(a),!0;var c=bb(a.nodeName);if(rb("uponSanitizeElement",a,{tagName:c,allowedTags:ua}),!qb(a.firstElementChild)&&(!qb(a.content)||!qb(a.content.firstElementChild))&&z(/<[/\w]/g,a.innerHTML)&&z(/<[/\w]/g,a.textContent))return lb(a),!0;if("select"===c&&z(/<template/i,a.innerHTML))return lb(a),!0;if(!ua[c]||za[c]){if(Ma&&!Pa[c]){var d=ba(a)||a.parentNode,e=aa(a)||a.childNodes;if(e&&d)for(var f=e.length-1;f>=0;--f)d.insertBefore($(e[f],!0),_(a))}if(!za[c]&&ub(c)){if(ya.tagNameCheck instanceof RegExp&&z(ya.tagNameCheck,c))return!1;if(ya.tagNameCheck instanceof Function&&ya.tagNameCheck(c))return!1}return lb(a),!0}return a instanceof n&&!kb(a)?(lb(a),!0):"noscript"!==c&&"noembed"!==c||!z(/<\/no(script|embed)/i,a.innerHTML)?(Ea&&3===a.nodeType&&(b=a.textContent,b=w(b,na," "),b=w(b,oa," "),a.textContent!==b&&(t(g.removed,{element:a.cloneNode()}),a.textContent=b)),rb("afterSanitizeElements",a,null),!1):(lb(a),!0)},tb=function(a,b,c){if(La&&("id"===b||"name"===b)&&(c in i||c in db))return!1;if(Ca&&!Aa[b]&&z(pa,b));else if(Ba&&z(qa,b));else if(!wa[b]||Aa[b]){if(!(ub(a)&&(ya.tagNameCheck instanceof RegExp&&z(ya.tagNameCheck,a)||ya.tagNameCheck instanceof Function&&ya.tagNameCheck(a))&&(ya.attributeNameCheck instanceof RegExp&&z(ya.attributeNameCheck,b)||ya.attributeNameCheck instanceof Function&&ya.attributeNameCheck(b))||"is"===b&&ya.allowCustomizedBuiltInElements&&(ya.tagNameCheck instanceof RegExp&&z(ya.tagNameCheck,c)||ya.tagNameCheck instanceof Function&&ya.tagNameCheck(c))))return!1}else if(Ta[b]);else if(z(ta,w(c,sa,"")));else if("src"!==b&&"xlink:href"!==b&&"href"!==b||"script"===a||0!==x(c,"data:")||!Ra[a])if(Da&&!z(ra,w(c,sa,"")));else if(c)return!1;return!0},ub=function(a){return a.indexOf("-")>0},vb=function(a){var b=void 0,c=void 0,d=void 0,e=void 0;rb("beforeSanitizeAttributes",a,null);var f=a.attributes;if(f){var h={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:wa};for(e=f.length;e--;){var i=b=f[e],j=i.name,k=i.namespaceURI;if(c=y(b.value),d=bb(j),h.attrName=d,h.attrValue=c,h.keepAttr=!0,h.forceKeepAttr=void 0,rb("uponSanitizeAttribute",a,h),c=h.attrValue,!h.forceKeepAttr&&(mb(j,a),h.keepAttr))if(z(/\/>/i,c))mb(j,a);else{Ea&&(c=w(c,na," "),c=w(c,oa," "));var l=bb(a.nodeName);if(tb(l,d,c))try{k?a.setAttributeNS(k,j,c):a.setAttribute(j,c),s(g.removed)}catch(a){}}}rb("afterSanitizeAttributes",a,null)}},wb=function a(b){var c=void 0,d=ob(b);for(rb("beforeSanitizeShadowDOM",b,null);c=d.nextNode();)rb("uponSanitizeShadowNode",c,null),sb(c)||(c.content instanceof j&&a(c.content),vb(c));rb("afterSanitizeShadowDOM",b,null)};return g.sanitize=function(a,b){var c=void 0,d=void 0,e=void 0,i=void 0,k=void 0;if((Za=!a)&&(a="<!-->"),"string"!=typeof a&&!qb(a)){if("function"!=typeof a.toString)throw A("toString is not a function");if("string"!=typeof(a=a.toString()))throw A("dirty is not a string, aborting")}if(!g.isSupported){if("object"===T(f.toStaticHTML)||"function"==typeof f.toStaticHTML){if("string"==typeof a)return f.toStaticHTML(a);if(qb(a))return f.toStaticHTML(a.outerHTML)}return a}if(Ga||fb(b),g.removed=[],"string"==typeof a&&(Na=!1),Na);else if(a instanceof m)1===(d=(c=nb("<!---->")).ownerDocument.importNode(a,!0)).nodeType&&"BODY"===d.nodeName||"HTML"===d.nodeName?c=d:c.appendChild(d);else{if(!Ia&&!Ea&&!Fa&&-1===a.indexOf("<"))return da&&Ka?da.createHTML(a):a;if(!(c=nb(a)))return Ia?null:ea}c&&Ha&&lb(c.firstChild);for(var l=ob(Na?a:c);e=l.nextNode();)3===e.nodeType&&e===i||sb(e)||(e.content instanceof j&&wb(e.content),vb(e),i=e);if(i=null,Na)return a;if(Ia){if(Ja)for(k=ia.call(c.ownerDocument);c.firstChild;)k.appendChild(c.firstChild);else k=c;return wa.shadowroot&&(k=ka.call(h,k,!0)),k}var n=Fa?c.outerHTML:c.innerHTML;return Ea&&(n=w(n,na," "),n=w(n,oa," ")),da&&Ka?da.createHTML(n):n},g.setConfig=function(a){fb(a),Ga=!0},g.clearConfig=function(){cb=null,Ga=!1},g.isValidAttribute=function(a,b,c){cb||fb({});var d=bb(a),e=bb(b);return tb(d,e,c)},g.addHook=function(a,b){"function"==typeof b&&(ma[a]=ma[a]||[],t(ma[a],b))},g.removeHook=function(a){ma[a]&&s(ma[a])},g.removeHooks=function(a){ma[a]&&(ma[a]=[])},g.removeAllHooks=function(){ma={}},g}()});